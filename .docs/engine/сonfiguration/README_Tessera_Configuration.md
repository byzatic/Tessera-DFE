# üìò –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—é –¥–≤–∏–∂–∫–∞ Tessera

–î–≤–∏–∂–æ–∫ Tessera –∏—Å–ø–æ–ª—å–∑—É–µ—Ç XML-—Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å `Configuration.java` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è, cron-–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—É—Ç–µ–π.

---

## üìÑ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª: `example.configuration.xml`

–§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–∑–º–µ—â—ë–Ω –≤ –≤–∏–¥–µ `example.configuration.xml` –∏ –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –ø—É—Ç—å, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–π –≤ –¥–≤–∏–∂–æ–∫ (–æ–±—ã—á–Ω–æ `-Dconfig.file=...`).

### üîß –ü—Ä–∏–º–µ—Ä:

```xml
<configuration>
  <graphCalculationCronCycle>0 */5 * * * ?</graphCalculationCronCycle>
  <temporaryWorkingDirectoryPath>/var/tmp/tessera/working</temporaryWorkingDirectoryPath>
  <rootProjectFolder>/opt/tessera/projects</rootProjectFolder>
</configuration>
```

---

## üîç –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä                         | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 |
|----------------------------------|--------------------------------------------------------------------------|
| `graphCalculationCronCycle`     | Cron-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≥—Ä–∞—Ñ–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö                        |
| `temporaryWorkingDirectoryPath` | –ö–∞—Ç–∞–ª–æ–≥ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –æ–ø–µ—Ä–∞—Ü–∏–π                                  |
| `rootProjectFolder`             | –ö–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ (–≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è `data/`)                   |

### üïí –ü—Ä–∏–º–µ—Ä cron:

```
"0 */5 * * * ?" ‚Üí –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
```

–§–æ—Ä–º–∞—Ç cron:
```
—Å–µ–∫—É–Ω–¥–∞ –º–∏–Ω—É—Ç–∞ —á–∞—Å –¥–µ–Ω—å_–º–µ—Å—è—Ü–∞ –º–µ—Å—è—Ü –¥–µ–Ω—å_–Ω–µ–¥–µ–ª–∏
```

---

## ‚öôÔ∏è –ö–ª–∞—Å—Å `Configuration.java`

–≠—Ç–æ—Ç –∫–ª–∞—Å—Å:

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Apache Commons Configuration (`XMLConfiguration`)
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–µ—Ç—Ç–µ—Ä—ã:
  - `getGraphCalculationCronCycle()`
  - `getTemporaryWorkingDirectoryPath()`
  - `getRootProjectFolder()`
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏ —á–µ—Ä–µ–∑ `TempDirectory`

```java
Configurations configs = new Configurations();
XMLConfiguration configuration = configs.xml(new File(path));
this.graphCalculationCronCycle = configuration.getString("graphCalculationCronCycle");
```

---

## üîê –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –í—Å–µ –ø–æ–ª—è –≤ XML –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–¥–∞–Ω—ã, –∏–Ω–∞—á–µ –≤–æ–∑–º–æ–∂–Ω—ã `null`/–æ—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
- –ü—É—Ç–∏ –¥–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –∑–∞–ø–∏—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏).
- cron-—Å—Ç—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω–æ–π (Quartz cron format, 6 –ø–æ–∑–∏—Ü–∏–π).

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å:

- [x] `example.configuration.xml` –¥–æ—Å—Ç—É–ø–µ–Ω
- [x] –ü—É—Ç—å –∫ –Ω–µ–º—É –ø–µ—Ä–µ–¥–∞–Ω –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç JVM (`-Dconfig.file=...`)
- [x] –ö–∞—Ç–∞–ª–æ–≥–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∏ –∏–º–µ—é—Ç –Ω—É–∂–Ω—ã–µ –ø—Ä–∞–≤–∞
- [x] –ó–Ω–∞—á–µ–Ω–∏—è –≤–∞–ª–∏–¥–Ω—ã (–≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏ cron)

---

## üìå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
java -Dconfig.file=example.configuration.xml -jar tessera-engine.jar
```

---

## üß™ –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á (cron)
- –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ graph pipeline‚Äô–æ–≤

---