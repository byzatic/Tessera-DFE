# README: Структура узлов в Tessera Data Flow Engine

В проекте Tessera-DFE структура узлов определяется иерархически через файл `Project.json`. Каждый узел графа представлен отдельной директорией внутри `data/nodes/` и содержит конфигурации, необходимые для выполнения логики обработки данных.

---

## Именование каталогов нод (Привязка к Project.json)

Каждый узел в `Project.json` имеет два важных атрибута:

- `id`: UUID узла, уникальный идентификатор.
- `name`: строка в формате `<имя_экземпляра>`, например `hardware_abstract->ram`.

Директория узла в `data/nodes/` должна называться по шаблону:

```
<UUID>-<имя_экземпляра>
```

Пример:
```
23638a5a-3fe8-4f76-93c2-342cacf7ad5d-hardware_abstract->ram
```

---

## Структура каталога узла

Каждая папка узла включает:

- `configuration_files/`: файлы предназначенные быть доступными в пространстве имен ноды  
  Так в пайплайне позже вы можете использовать `${NODE_PATH}` как указатель на директорию `/some_path/configuration_files/`

```yaml
"configuration_files": [
  {
    "description": "MCg3-WorkflowRoutine-DSL-File",
    "configuration_file_id": "${NODE_PATH}/LiftingData-GraphLiftingDataWorkflowRoutine.mcg3dsl"
  }
]
```

- `pipeline.json`: описывает порядок/пайплайн исполнения вышеуказанных рутин в рамках одного узла.

- `global.json` (необязательный): локальные сторажи, доступные внутри DSL.

---

## Согласованность

- Все узлы, указанные в `Project.json`, **обязаны иметь соответствующую директорию** в `data/nodes/`.
- Название директории должно **точно соответствовать** шаблону `UUID-name`, где `name` совпадает с полем `name` узла в `Project.json`.

---

## Примечания

- Связи между узлами определяются в `Project.json` через поле `downstream`.
- Сами директории не хранят информацию о связях — она извлекается из дерева `Project.json`.
- Система строго проверяет корректность структуры, особенно в режиме `SingleRootStrictNestedNodeTree`.

---

## Проверки перед запуском

Все узлы из `Project.json` присутствуют в `data/nodes/`.

---